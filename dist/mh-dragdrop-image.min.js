"use strict";angular.module("mhDragdropImage",[]),angular.module("mhDragdropImage").directive("dragDropImg",["$window",function(e){angular.element(document.querySelector("head")).prepend("<style>\n      .drag-drop-img{background-size:cover;background-repeat:no-repeat;background-position:center;background-color:#ccc;height:250px;width:250px;text-align:center;position:relative}\n      .drag-drop-img:before{content:'choose a file or drag it here';position:absolute;top:50%;left:50%;transform:translate(-50%, -60%);font-family:sans-serif;font-weight:bold;color:white;text-shadow:0 2px 2px rgba(0,0,0,0.6)}\n      .drag-drop-img.active{opacity:0.5}\n      .drag-drop-img.has-image:before{display:none}\n    </style>");var a=new e.FileReader,t=angular.element('<input type="file">');return{restrict:"E",replace:!0,require:"ngModel",template:'<div class="drag-drop-img"></div>',link:function(e,r,n,o){e.active=!1,a.onload=function(){r[0].style.backgroundImage="url("+this.result+")",r[0].classList.add("has-image"),o.$setViewValue(this.result)},r.on("dragenter",function(){r[0].classList.add("active"),e.$apply()}).on("dragover",function(e){e.preventDefault()}).on("dragleave",function(){r[0].classList.remove("active"),e.$apply()}).on("drop",function(e){e.preventDefault(),r[0].classList.remove("active");var t=(e.target.files||e.dataTransfer.files)[0];a.readAsDataURL(t)}).on("click",function(){t[0].click()}),t.on("change",function(e){r[0].classList.remove("active");var t=(e.target.files||e.dataTransfer.files)[0];a.readAsDataURL(t)})}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1oLWRyYWdkcm9wLWltYWdlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkd2luZG93IiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByZXBlbmQiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIiRmaWxlSW5wdXQiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJyZXF1aXJlIiwidGVtcGxhdGUiLCJsaW5rIiwiJHNjb3BlIiwiJGVsZW1lbnQiLCJhdHRycyIsIm5nTW9kZWwiLCJhY3RpdmUiLCJvbmxvYWQiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInRoaXMiLCJyZXN1bHQiLCJjbGFzc0xpc3QiLCJhZGQiLCIkc2V0Vmlld1ZhbHVlIiwib24iLCIkYXBwbHkiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJkYXRhVHJhbnNmZXIiLCJyZWFkQXNEYXRhVVJMIiwiY2xpY2siXSwibWFwcGluZ3MiOiJBQUFBLGFBRUFBLFFBQVFDLE9BQU8sc0JBSWZELFFBQVFDLE9BQU8sbUJBQW1CQyxVQUFVLGVBQWdCLFVBQVcsU0FBVUMsR0FFL0VILFFBQVFJLFFBQVFDLFNBQVNDLGNBQWMsU0FBU0MsUUFBUSxraEJBRXhELElBQUlDLEVBQWEsSUFBSUwsRUFBUU0sV0FDekJDLEVBQWFWLFFBQVFJLFFBQVEsdUJBRWpDLE9BQ0VPLFNBQVUsSUFDVkMsU0FBUyxFQUNUQyxRQUFTLFVBQ1RDLFNBQVUsb0NBQ1ZDLEtBQU0sU0FBY0MsRUFBUUMsRUFBVUMsRUFBT0MsR0FFM0NILEVBQU9JLFFBQVMsRUFFaEJaLEVBQVdhLE9BQVMsV0FDbEJKLEVBQVMsR0FBR0ssTUFBTUMsZ0JBQWtCLE9BQVNDLEtBQUtDLE9BQVMsSUFDM0RSLEVBQVMsR0FBR1MsVUFBVUMsSUFBSSxhQUMxQlIsRUFBUVMsY0FBY0osS0FBS0MsU0FHN0JSLEVBQVNZLEdBQUcsWUFBYSxXQUN2QlosRUFBUyxHQUFHUyxVQUFVQyxJQUFJLFVBQzFCWCxFQUFPYyxXQUNORCxHQUFHLFdBQVksU0FBVUUsR0FDMUJBLEVBQUVDLG1CQUNESCxHQUFHLFlBQWEsV0FDakJaLEVBQVMsR0FBR1MsVUFBVU8sT0FBTyxVQUM3QmpCLEVBQU9jLFdBQ05ELEdBQUcsT0FBUSxTQUFVRSxHQUN0QkEsRUFBRUMsaUJBQ0ZmLEVBQVMsR0FBR1MsVUFBVU8sT0FBTyxVQUM3QixJQUFJQyxHQUFRSCxFQUFFSSxPQUFPQyxPQUFTTCxFQUFFTSxhQUFhRCxPQUFPLEdBQ3BENUIsRUFBVzhCLGNBQWNKLEtBQ3hCTCxHQUFHLFFBQVMsV0FDYm5CLEVBQVcsR0FBRzZCLFVBR2hCN0IsRUFBV21CLEdBQUcsU0FBVSxTQUFVRSxHQUNoQ2QsRUFBUyxHQUFHUyxVQUFVTyxPQUFPLFVBQzdCLElBQUlDLEdBQVFILEVBQUVJLE9BQU9DLE9BQVNMLEVBQUVNLGFBQWFELE9BQU8sR0FDcEQ1QixFQUFXOEIsY0FBY0oiLCJmaWxlIjoibWgtZHJhZ2Ryb3AtaW1hZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtaERyYWdkcm9wSW1hZ2UnLCBbXSk7XG5cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21oRHJhZ2Ryb3BJbWFnZScpLmRpcmVjdGl2ZSgnZHJhZ0Ryb3BJbWcnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXG4gIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykpLnByZXBlbmQoJzxzdHlsZT5cXG4gICAgICAuZHJhZy1kcm9wLWltZ3tiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6I2NjYztoZWlnaHQ6MjUwcHg7d2lkdGg6MjUwcHg7dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmV9XFxuICAgICAgLmRyYWctZHJvcC1pbWc6YmVmb3Jle2NvbnRlbnQ6XFwnY2hvb3NlIGEgZmlsZSBvciBkcmFnIGl0IGhlcmVcXCc7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC02MCUpO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjp3aGl0ZTt0ZXh0LXNoYWRvdzowIDJweCAycHggcmdiYSgwLDAsMCwwLjYpfVxcbiAgICAgIC5kcmFnLWRyb3AtaW1nLmFjdGl2ZXtvcGFjaXR5OjAuNX1cXG4gICAgICAuZHJhZy1kcm9wLWltZy5oYXMtaW1hZ2U6YmVmb3Jle2Rpc3BsYXk6bm9uZX1cXG4gICAgPC9zdHlsZT4nKTtcblxuICB2YXIgZmlsZVJlYWRlciA9IG5ldyAkd2luZG93LkZpbGVSZWFkZXIoKTtcbiAgdmFyICRmaWxlSW5wdXQgPSBhbmd1bGFyLmVsZW1lbnQoJzxpbnB1dCB0eXBlPVwiZmlsZVwiPicpO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkcmFnLWRyb3AtaW1nXCI+PC9kaXY+JyxcbiAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCRzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG5cbiAgICAgICRzY29wZS5hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRlbGVtZW50WzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIHRoaXMucmVzdWx0ICsgJyknO1xuICAgICAgICAkZWxlbWVudFswXS5jbGFzc0xpc3QuYWRkKCdoYXMtaW1hZ2UnKTtcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHRoaXMucmVzdWx0KTtcbiAgICAgIH07XG5cbiAgICAgICRlbGVtZW50Lm9uKCdkcmFnZW50ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9KS5vbignZHJhZ292ZXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KS5vbignZHJhZ2xlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkZWxlbWVudFswXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSkub24oJ2Ryb3AnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB2YXIgZmlsZSA9IChlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlcylbMF07XG4gICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGZpbGVJbnB1dFswXS5jbGljaygpO1xuICAgICAgfSk7XG5cbiAgICAgICRmaWxlSW5wdXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB2YXIgZmlsZSA9IChlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlcylbMF07XG4gICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTsiXX0=
